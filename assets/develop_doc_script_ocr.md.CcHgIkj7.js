import{_ as d,c as e,a2 as a,o}from"./chunks/framework.By2iWbs8.js";const g=JSON.parse('{"title":"文字识别(OCR)","description":"","frontmatter":{},"headers":[],"relativePath":"develop_doc/script/ocr.md","filePath":"develop_doc/script/ocr.md","lastUpdated":1740649955000}'),r={name:"develop_doc/script/ocr.md"};function h(c,t,n,i,l,s){return o(),e("div",null,t[0]||(t[0]=[a('<h1 id="文字识别-ocr" tabindex="-1">文字识别(OCR) <a class="header-anchor" href="#文字识别-ocr" aria-label="Permalink to &quot;文字识别(OCR)&quot;">​</a></h1><h2 id="ocr-将会使用c-重构-作为项baas的子进程提供服务-提供以下api" tabindex="-1">OCR 将会使用<a href="https://github.com/pur1fying/BAAS_Cpp" target="_blank" rel="noreferrer">C++重构</a>, 作为项BAAS的子进程提供服务, 提供以下api <a class="header-anchor" href="#ocr-将会使用c-重构-作为项baas的子进程提供服务-提供以下api" aria-label="Permalink to &quot;OCR 将会使用[C++重构](https://github.com/pur1fying/BAAS_Cpp), 作为项BAAS的子进程提供服务, 提供以下api&quot;">​</a></h2><h2 id="基础信息" tabindex="-1"><strong>基础信息</strong> <a class="header-anchor" href="#基础信息" aria-label="Permalink to &quot;**基础信息**&quot;">​</a></h2><table tabindex="0"><thead><tr><th>项目</th><th>说明</th></tr></thead><tbody><tr><td><strong>地址</strong></td><td><code>localhost:1145</code></td></tr></tbody></table><h2 id="api列表" tabindex="-1"><strong>API列表</strong> <a class="header-anchor" href="#api列表" aria-label="Permalink to &quot;**API列表**&quot;">​</a></h2><h3 id="初始化模型" tabindex="-1">初始化模型 <a class="header-anchor" href="#初始化模型" aria-label="Permalink to &quot;初始化模型&quot;">​</a></h3><h4 id="请求信息" tabindex="-1"><strong>请求信息</strong> <a class="header-anchor" href="#请求信息" aria-label="Permalink to &quot;**请求信息**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>URL</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/init_model</code></td></tr></tbody></table><h4 id="请求头" tabindex="-1"><strong>请求头</strong> <a class="header-anchor" href="#请求头" aria-label="Permalink to &quot;**请求头**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>指定请求的数据格式</td><td><code>application/json</code></td></tr></tbody></table><h4 id="请求体" tabindex="-1"><strong>请求体</strong> <a class="header-anchor" href="#请求体" aria-label="Permalink to &quot;**请求体**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>language</code></td><td><code>List[str]</code></td><td>是</td><td>语言</td></tr><tr><td><code>gpu_id</code></td><td><code>int</code></td><td>否</td><td>gpu id</td></tr><tr><td><code>num_thread</code></td><td><code>int</code></td><td>否</td><td>推理线程数</td></tr></tbody></table><h4 id="响应体" tabindex="-1"><strong>响应体</strong> <a class="header-anchor" href="#响应体" aria-label="Permalink to &quot;**响应体**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>List[int]</code></td><td><code>最后一个int表示初始化时间, 前面每个数字含义如下表</code></td></tr></tbody></table><table tabindex="0"><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td><code>-1</code></td><td>不存在的语言</td></tr><tr><td><code>0</code></td><td>已经初始化过</td></tr><tr><td><code>1</code></td><td><code>success</code></td></tr></tbody></table><h3 id="释放模型" tabindex="-1">释放模型 <a class="header-anchor" href="#释放模型" aria-label="Permalink to &quot;释放模型&quot;">​</a></h3><h4 id="请求信息-1" tabindex="-1"><strong>请求信息</strong> <a class="header-anchor" href="#请求信息-1" aria-label="Permalink to &quot;**请求信息**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>URL</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/release_model</code></td></tr></tbody></table><h4 id="请求头-1" tabindex="-1"><strong>请求头</strong> <a class="header-anchor" href="#请求头-1" aria-label="Permalink to &quot;**请求头**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>指定请求的数据格式</td><td><code>application/json</code></td></tr></tbody></table><h4 id="请求体-1" tabindex="-1"><strong>请求体</strong> <a class="header-anchor" href="#请求体-1" aria-label="Permalink to &quot;**请求体**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>language</code></td><td><code>List[str]</code></td><td>是</td><td>语言</td></tr></tbody></table><p><strong>note</strong>: 释放某个语言的模型, 可能会导致其他语言的模型也被释放, 所以暂时此api暂时不提供, 使用下的release_all代替 (使用shared_ptr)</p><h3 id="释放所有模型" tabindex="-1">释放所有模型 <a class="header-anchor" href="#释放所有模型" aria-label="Permalink to &quot;释放所有模型&quot;">​</a></h3><h4 id="请求信息-2" tabindex="-1"><strong>请求信息</strong> <a class="header-anchor" href="#请求信息-2" aria-label="Permalink to &quot;**请求信息**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>URL</th></tr></thead><tbody><tr><td><code>Get</code></td><td><code>/release_all</code></td></tr></tbody></table><h3 id="获取图像的文字框" tabindex="-1">获取图像的文字框 <a class="header-anchor" href="#获取图像的文字框" aria-label="Permalink to &quot;获取图像的文字框&quot;">​</a></h3><h4 id="请求信息-3" tabindex="-1"><strong>请求信息</strong> <a class="header-anchor" href="#请求信息-3" aria-label="Permalink to &quot;**请求信息**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>URL</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/get_text_box</code></td></tr></tbody></table><h4 id="请求头-2" tabindex="-1"><strong>请求头</strong> <a class="header-anchor" href="#请求头-2" aria-label="Permalink to &quot;**请求头**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>指定请求的数据格式</td><td><code>application/json</code></td></tr></tbody></table><h4 id="请求体-2" tabindex="-1"><strong>请求体</strong> <a class="header-anchor" href="#请求体-2" aria-label="Permalink to &quot;**请求体**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>/image/pass_method</code></td><td><code>unsigned int</code></td><td>是</td><td>图像传递方式</td></tr><tr><td><code>/image/local_path</code></td><td><code>string</code></td><td>否</td><td>图像本地路径</td></tr><tr><td><code>/image/shared_memory_name</code></td><td><code>string</code></td><td>否</td><td>图像数据所在的共享内存名</td></tr></tbody></table><h3 id="ocr-for-single-line" tabindex="-1">ocr_for_single_line <a class="header-anchor" href="#ocr-for-single-line" aria-label="Permalink to &quot;ocr_for_single_line&quot;">​</a></h3><h4 id="请求信息-4" tabindex="-1"><strong>请求信息</strong> <a class="header-anchor" href="#请求信息-4" aria-label="Permalink to &quot;**请求信息**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>URL</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/ocr_for_single_line</code></td></tr></tbody></table><h4 id="请求头-3" tabindex="-1"><strong>请求头</strong> <a class="header-anchor" href="#请求头-3" aria-label="Permalink to &quot;**请求头**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>指定请求的数据格式</td><td><code>application/json</code></td></tr></tbody></table><h4 id="请求体-3" tabindex="-1"><strong>请求体</strong> <a class="header-anchor" href="#请求体-3" aria-label="Permalink to &quot;**请求体**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>/language</code></td><td><code>string</code></td><td>是</td><td>语言</td></tr><tr><td><code>/candidates</code></td><td><code>string</code></td><td>否</td><td>可能出现的字</td></tr><tr><td><code>/image/pass_method</code></td><td><code>unsigned int</code></td><td>是</td><td>图像传递方式</td></tr><tr><td><code>/image/local_path</code></td><td><code>string</code></td><td>否</td><td>图像本地路径</td></tr><tr><td><code>/image/shared_memory_name</code></td><td><code>string</code></td><td>否</td><td>图像数据所在的共享内存名</td></tr></tbody></table><h3 id="ocr" tabindex="-1">ocr <a class="header-anchor" href="#ocr" aria-label="Permalink to &quot;ocr&quot;">​</a></h3><h4 id="请求信息-5" tabindex="-1"><strong>请求信息</strong> <a class="header-anchor" href="#请求信息-5" aria-label="Permalink to &quot;**请求信息**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>方法</th><th>URL</th></tr></thead><tbody><tr><td><code>POST</code></td><td><code>/ocr</code></td></tr></tbody></table><h4 id="请求头-4" tabindex="-1"><strong>请求头</strong> <a class="header-anchor" href="#请求头-4" aria-label="Permalink to &quot;**请求头**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>说明</th><th>示例值</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>指定请求的数据格式</td><td><code>application/json</code></td></tr></tbody></table><h4 id="请求体-4" tabindex="-1"><strong>请求体</strong> <a class="header-anchor" href="#请求体-4" aria-label="Permalink to &quot;**请求体**&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>类型</th><th>必填</th><th>说明</th></tr></thead><tbody><tr><td><code>/language</code></td><td><code>string</code></td><td>是</td><td>语言</td></tr><tr><td><code>/candidates</code></td><td><code>string</code></td><td>否</td><td>可能出现的字</td></tr><tr><td><code>/image/pass_method</code></td><td><code>unsigned int</code></td><td>是</td><td>图像传递方式</td></tr><tr><td><code>/image/local_path</code></td><td><code>string</code></td><td>否</td><td>图像本地路径</td></tr><tr><td><code>/image/shared_memory_name</code></td><td><code>string</code></td><td>否</td><td>图像数据所在的共享内存名</td></tr></tbody></table><h2 id="可选的语言" tabindex="-1">可选的语言 <a class="header-anchor" href="#可选的语言" aria-label="Permalink to &quot;可选的语言&quot;">​</a></h2><table tabindex="0"><thead><tr><th>language</th><th>语言</th></tr></thead><tbody><tr><td><code>zh-cn</code></td><td><code>简体中文</code></td></tr><tr><td><code>zh-tw</code></td><td><code>繁体中文</code></td></tr><tr><td><code>en-us</code></td><td><code>英文</code></td></tr><tr><td><code>ja-jp</code></td><td><code>日文</code></td></tr><tr><td><code>ko-kr</code></td><td><code>韩文</code></td></tr><tr><td><code>ru-ru</code></td><td><code>俄文</code></td></tr></tbody></table><h2 id="图像传递方式" tabindex="-1">图像传递方式 <a class="header-anchor" href="#图像传递方式" aria-label="Permalink to &quot;图像传递方式&quot;">​</a></h2><h3 id="本地图像" tabindex="-1">本地图像 <a class="header-anchor" href="#本地图像" aria-label="Permalink to &quot;本地图像&quot;">​</a></h3><ol><li>共享内存传递</li><li>提供图像路径, ocr_server读取图像</li><li>传递图像二进制数据</li></ol><h3 id="远程图像" tabindex="-1">远程图像 <a class="header-anchor" href="#远程图像" aria-label="Permalink to &quot;远程图像&quot;">​</a></h3><ol><li>传递png文件</li><li>传递图像二进制数据</li></ol><h2 id="pass-method" tabindex="-1">pass_method <a class="header-anchor" href="#pass-method" aria-label="Permalink to &quot;pass_method&quot;">​</a></h2><table tabindex="0"><thead><tr><th>值</th><th>传递方式</th><th>必填参数</th></tr></thead><tbody><tr><td>1</td><td>共享内存</td><td>shared_memory_name</td></tr><tr><td>2</td><td>本地路径</td><td>local_path</td></tr><tr><td>3</td><td>图像二进制数据 (Base64)</td><td>image_data（Base64字符串）</td></tr></tbody></table>',56)]))}const u=d(r,[["render",h]]);export{g as __pageData,u as default};
